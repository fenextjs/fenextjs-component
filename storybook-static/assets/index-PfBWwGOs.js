import{R as e,r as F}from"./index-BBqxgoSh.js";import{I as z}from"./index-DxxMHRyz.js";import{_ as H}from"./index-BmQFJNSo.js";import{C as J}from"./index-DewEk3et.js";import"./index-CBrW-Ce-.js";import{f as K,g as L,c as _}from"./index-ac8kB312.js";import{c as m}from"./index-Bi1ewI2z.js";import{c as G}from"./index-0i6QVfK7.js";var Q=K(),X=L();const Y=({type:l="normal",onPreMonth:A,onNextMonth:d,date:t,selectDate:c,selectDateRange:g,setSelectDate:v,setSelectDateRange:o,dataNSelect:p,setDataNSelect:I,min:P,max:S,className:b="",classNameContent:R="",classNameTop:j="",classNameTopBtn:f="",classNameTopBtnPrev:n="",classNameTopBtnNext:k="",classNameTopInfo:T="",classNameDays:q="",classNameDay:E="",classNameDate:i="",classNameDateValid:N="",classNameDateDisabled:h="",classNameDateInMonth:x="",classNameDateOtherMonth:$="",classNameDateSelect:r="",classNameDateSelectRange:s="",...V})=>{var M;const{_t:C}=_.use_T({...V});return e.createElement(e.Fragment,null,e.createElement("div",{className:`fenext-input-calendar-month ${b}`},e.createElement("div",{className:`fenext-input-calendar-month-content ${R}`},e.createElement("div",{className:`fenext-input-calendar-top ${j}`},e.createElement("button",{className:`fenext-input-calendar-btn ${f} ${n}`,onClick:A},e.createElement(G.SvgPaginationPre,null)),e.createElement("div",{className:`fenext-input-calendar-top-info ${T}`},t==null?void 0:t.onFormat({month:"long",year:"numeric"})),e.createElement("button",{className:`fenext-input-calendar-btn ${f} ${k}`,onClick:d},e.createElement(G.SvgPaginationNext,null))),e.createElement("div",{className:`fenext-input-calendar-days ${q}`},[m.DaysEnum.Sunday,m.DaysEnum.Monday,m.DaysEnum.Tuesday,m.DaysEnum.Wednesday,m.DaysEnum.Thursday,m.DaysEnum.Friday,m.DaysEnum.Saturday].map((a,y)=>e.createElement(e.Fragment,null,e.createElement("div",{key:y,"data-day":a,className:`fenext-input-calendar-day ${E}`},C(a)[0])))),(M=t==null?void 0:t.onGenerateDateByCalendar())==null?void 0:M.map((a,y)=>{const D=t==null?void 0:t.onValidateMinMax({date:a,max:S,min:P}),u=t.onCompareDate({date:c,dateCompare:a,compare:{Date:!0,Month:!0,FullYear:!0}});u["=="]=c!=null&&u["=="];const w=t.onCompareDate({date:a,dateCompare:g[0],compare:{Date:!0,Month:!0,FullYear:!0}}),B=t.onCompareDate({date:a,dateCompare:g[1],compare:{Date:!0,Month:!0,FullYear:!0}});return e.createElement(e.Fragment,null,e.createElement("div",{key:y,"data-date":a.getDate(),"data-month":a.getMonth()+1,"data-year":a.getFullYear(),onClick:()=>{D&&(l=="normal"&&v(a),l=="range"&&(o(p?()=>[a]:O=>[...O,a].sort((W,U)=>W.getTime()-U.getTime())),I(O=>!O)))},className:`
                                        fenext-input-calendar-date
                                        fenext-input-calendar-date-${D?`valid ${N}`:`disabled ${h}`}
                                        fenext-input-calendar-date-${a.getMonth()==t.date.getMonth()?`in-month ${x}`:`other-month ${$}`}
                                        fenext-input-calendar-date-${l=="normal"&&u["=="]?`select ${r}`:""}
                                        fenext-input-calendar-date-${l=="range"&&w["=="]?`select ${r}`:""}
                                        fenext-input-calendar-date-${l=="range"&&w[">"]&&B["<"]?`select-range ${s}`:""}
                                        fenext-input-calendar-date-${l=="range"&&B["=="]?`select ${r}`:""}

                                        ${i}
                                    `},a==null?void 0:a.getDate()))}))))};Y.__docgenInfo={description:"",methods:[],displayName:"InputCalendarMonth",props:{className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classNameContent:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classNameTop:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classNameTopBtn:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classNameTopBtnPrev:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classNameTopBtnNext:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classNameTopInfo:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classNameDays:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classNameDay:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classNameDate:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classNameDateValid:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classNameDateDisabled:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classNameDateInMonth:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classNameDateOtherMonth:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classNameDateSelect:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classNameDateSelectRange:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},type:{required:!1,tsType:{name:"DateDataTypeProps"},description:"",defaultValue:{value:'"normal"',computed:!1}},date:{required:!1,tsType:{name:"FenextjsDate"},description:""},onPreMonth:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onNextMonth:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},selectDate:{required:!0,tsType:{name:"union",raw:"Date | undefined",elements:[{name:"Date"},{name:"undefined"}]},description:""},selectDateRange:{required:!0,tsType:{name:"Array",elements:[{name:"Date"}],raw:"Date[]"},description:""},setSelectDate:{required:!0,tsType:{name:"signature",type:"function",raw:"(d: Date) => void",signature:{arguments:[{type:{name:"Date"},name:"d"}],return:{name:"void"}}},description:""},setSelectDateRange:{required:!0,tsType:{name:"signature",type:"function",raw:"(d: (d: Date[]) => Date[]) => void",signature:{arguments:[{type:{name:"signature",type:"function",raw:"(d: Date[]) => Date[]",signature:{arguments:[{type:{name:"Array",elements:[{name:"Date"}],raw:"Date[]"},name:"d"}],return:{name:"Array",elements:[{name:"Date"}],raw:"Date[]"}}},name:"d"}],return:{name:"void"}}},description:""},dataNSelect:{required:!0,tsType:{name:"boolean"},description:""},setDataNSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(d: (d: boolean) => boolean) => void",signature:{arguments:[{type:{name:"signature",type:"function",raw:"(d: boolean) => boolean",signature:{arguments:[{type:{name:"boolean"},name:"d"}],return:{name:"boolean"}}},name:"d"}],return:{name:"void"}}},description:""},min:{required:!1,tsType:{name:"Date"},description:""},max:{required:!1,tsType:{name:"Date"},description:""}},composes:["_TProps"]};const Z=({nMonthShow:l=1,icon:A=e.createElement(H.SvgDate,null),type:d="normal",defaultValue:t,value:c,defaultValueRange:g,valueRange:v,onChange:o,onChangeRange:p,validator:I,errorWithIsChange:P=!0,collapseProps:S={},className:b="",classNameContentCalendar:R="",classNameInputText:j={},classNameInputCalendarMonth:f={},...n})=>{const[k,T]=F.useState(!P),{data:q,setData:E}=_.useData(t,{onChangeDataAfter:a=>{T(!0),o==null||o(a)}}),i=F.useMemo(()=>c??q,[c,q]),[N,h]=F.useState(!0),{data:x,setDataFunction:$}=_.useData(g??[],{onChangeDataAfter:a=>{T(!0),p==null||p(a)}}),r=F.useMemo(()=>v??x,[v,x]),s=X.useDate({}),V=()=>{s.addMonth(-1)},C=()=>{s.addMonth(1)},{error:M}=_.useValidator({data:d=="normal"?i:r,validator:I});return e.createElement(e.Fragment,null,e.createElement("div",{className:`fenext-input-calendar ${b}`},e.createElement(J,{...S,header:e.createElement(e.Fragment,null,e.createElement(z,{...n,...j,icon:A,value:d=="normal"?`${i?s.onFormat({},i):""}`:`${r&&r.length==2?`${s.onFormat({},r[0])} - ${s.onFormat({},r[1])}`:""}`,error:M,errorWithIsChange:!k}))},e.createElement("div",{className:`fenext-input-calendar-content fenext-input-calendar-content-${l>1?"multiple":""} ${R}`},e.createElement(Y,{...f,_t:n==null?void 0:n._t,type:d,dataNSelect:N,selectDate:i,selectDateRange:r,setDataNSelect:h,setSelectDate:E,setSelectDateRange:$,date:s,onNextMonth:C,onPreMonth:V,...n}),l>1&&e.createElement(e.Fragment,null,new Array(l-1).fill(1).map((a,y)=>{const D=a*y+1,u=new Date((s==null?void 0:s.date)??0);u.setDate(1),u.setMonth(u.getMonth()+D);const w=new Q.FenextjsDate({defaultDate:u});return e.createElement(e.Fragment,null,e.createElement(Y,{key:D,...f,_t:n==null?void 0:n._t,type:d,dataNSelect:N,selectDate:i,selectDateRange:r,setDataNSelect:h,setSelectDate:E,setSelectDateRange:$,date:w,onNextMonth:C,onPreMonth:V,...n}))}))))))};Z.__docgenInfo={description:"",methods:[],displayName:"InputCalendar",props:{className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classNameContentCalendar:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classNameInputText:{required:!1,tsType:{name:"InputTextClassProps"},description:"",defaultValue:{value:"{}",computed:!1}},classNameInputCalendarMonth:{required:!1,tsType:{name:"InputCalendarMonthClassProps"},description:"",defaultValue:{value:"{}",computed:!1}},defaultValue:{required:!1,tsType:{name:"Date"},description:""},value:{required:!1,tsType:{name:"Date"},description:""},defaultValueRange:{required:!1,tsType:{name:"Array",elements:[{name:"Date"}],raw:"Date[]"},description:""},valueRange:{required:!1,tsType:{name:"Array",elements:[{name:"Date"}],raw:"Date[]"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(d: Date | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"Date | undefined",elements:[{name:"Date"},{name:"undefined"}]},name:"d"}],return:{name:"void"}}},description:""},onChangeRange:{required:!1,tsType:{name:"signature",type:"function",raw:"(d: Date[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"Date"}],raw:"Date[]"},name:"d"}],return:{name:"void"}}},description:""},nMonthShow:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}},collapseProps:{required:!1,tsType:{name:"Omit",elements:[{name:"CollapseProps"},{name:"union",raw:'"children" | "header"',elements:[{name:"literal",value:'"children"'},{name:"literal",value:'"header"'}]}],raw:'Omit<CollapseProps, "children" | "header">'},description:"",defaultValue:{value:"{}",computed:!1}},icon:{defaultValue:{value:"<SvgDate />",computed:!1},required:!1},type:{defaultValue:{value:'"normal"',computed:!1},required:!1},errorWithIsChange:{defaultValue:{value:"true",computed:!1},required:!1}},composes:["Pick"]};export{Z as I};
