import{r as p,R as y}from"./index-BBqxgoSh.js";import{I as O}from"./index-DxxMHRyz.js";import{u as j}from"./index-DzUbadkt.js";import{N as b}from"./index-BnrhpCsH.js";import{_ as u}from"./index-BmxTABgf.js";import{c as k}from"./index-ac8kB312.js";import{c as L}from"./index-XBs5YK1k.js";const _=({onChange:l,value:T=void 0,defaultValue:g,symbolInit:h="$",symbolFinal:v="",validator:f=void 0,min:m=-1/0,max:d=1/0,minError:S,maxError:x,optionsParseNumberDefault:C,optionsParseNumber:s,aplyMax:I=!0,aplyMin:$=!1,...n})=>{const{data:N,setDataFunction:w,isChange:V}=j.useData(`${b.parseNumberCount(g??"",C??s)}`,{onChangeDataAfter:a=>{if(a==""){l==null||l("");return}l==null||l(u.parseNumber(a))}}),o=p.useMemo(()=>T??N,[T,N]),E=p.useMemo(()=>{const a=f??L.FenextjsValidator().isNumber();return f||a.isMinOrEqual(m,S).isMaxOrEqual(d,x),a},[f,m,d]),{error:D}=k.useValidator({data:o!=null&&o!=""?u.parseNumber(o):void 0,validator:E}),q=p.useCallback((a,t,c)=>{var i;let r=b.parseNumberCount(a,s);if(c=="-"&&r=="0")return"-0";if(`${t}`.includes(".")){const e=(((i=`${t}`.split("."))==null?void 0:i[1])??"").slice(0,(s==null?void 0:s.maximumFractionDigits)??3).replace(/[^0-9]/g,"");r=b.parseNumberCount(`${parseInt(`${u.parseNumber(r)}`)}`),r.includes(".")||(r+="."),r+=e}return r},[s]),F=p.useMemo(()=>{const a=`${o}`;if(a=="")return"";const t=q(a,a);return`${h}${t}${a.at(-1)=="."?"":v}`},[h,v,o,s]),M=a=>{var c;(c=n==null?void 0:n.onKeyDown)==null||c.call(n,a);const t=a==null?void 0:a.key;w(r=>{let i=`${r}${t}`.replace(/[^0-9.-]/g,""),e=`${i}`;return t=="Backspace"&&(e=e.slice(0,e.length-1),i=i.slice(0,i.length-1)),t=="ArrowUp"&&(e=`${u.parseNumber(e)+1}`),t=="ArrowDown"&&(e=`${u.parseNumber(e)-1}`),I&&d!=null&&(e=`${Math.min(d,u.parseNumber(e))}`),$&&m!=null&&(e=`${Math.max(m,u.parseNumber(e))}`),t=="."&&!e.includes(".")&&(e+="."),e=q(e,i,t),e})};return y.createElement(y.Fragment,null,y.createElement(O,{...n,className:`fenext-input-number-count ${(n==null?void 0:n.className)??""}`,type:"text",value:F,isChange:V,onKeyDown:M,validator:void 0,error:D,inputMode:"numeric"}))};_.__docgenInfo={description:"",methods:[],displayName:"InputNumberCount",props:{symbolInit:{required:!1,tsType:{name:"string"},description:"symbol of money in de Init, default $.",defaultValue:{value:'"$"',computed:!1}},symbolFinal:{required:!1,tsType:{name:"string"},description:"symbol of money in the final.",defaultValue:{value:'""',computed:!1}},defaultValue:{required:!1,tsType:{name:"union",raw:'number | ""',elements:[{name:"number"},{name:"literal",value:'""'}]},description:`The default value of the input.
@default ""`},value:{required:!1,tsType:{name:"union",raw:'number | ""',elements:[{name:"number"},{name:"literal",value:'""'}]},description:`The value of the input.
@default undefined`,defaultValue:{value:"undefined",computed:!0}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:'(v: number | "") => void',signature:{arguments:[{type:{name:"union",raw:'number | ""',elements:[{name:"number"},{name:"literal",value:'""'}]},name:"v"}],return:{name:"void"}}},description:"The callback function that is triggered when the value of the input changes."},min:{required:!1,tsType:{name:"number"},description:"The minimum value allowed for the input.",defaultValue:{value:"-Infinity",computed:!1}},max:{required:!1,tsType:{name:"number"},description:"The maximum value allowed for the input.",defaultValue:{value:"Infinity",computed:!0}},aplyMin:{required:!1,tsType:{name:"boolean"},description:"The minimum value allowed for the input.",defaultValue:{value:"false",computed:!1}},aplyMax:{required:!1,tsType:{name:"boolean"},description:"The maximum value allowed for the input.",defaultValue:{value:"true",computed:!1}},minError:{required:!1,tsType:{name:"string"},description:"The minimum value allowed for the input."},maxError:{required:!1,tsType:{name:"string"},description:"The maximum value allowed for the input."},validator:{required:!1,tsType:{name:"FenextjsValidatorClass",elements:[{name:"number"}],raw:"FenextjsValidatorClass<number>"},description:"FenextjsValidatorClass used for input validation.",defaultValue:{value:"undefined",computed:!0}},optionsParseNumber:{required:!1,tsType:{name:"Intl.NumberFormatOptions"},description:"optionsParseNumber used for input validation."},optionsParseNumberDefault:{required:!1,tsType:{name:"Intl.NumberFormatOptions"},description:"optionsParseNumber used for input validation."},className:{required:!1,tsType:{name:"string"},description:"CSS class name for the input component."},classNameLabel:{required:!1,tsType:{name:"string"},description:"CSS class name for the input label."},classNameLabelError:{required:!1,tsType:{name:"string"},description:"CSS class name for the input error label."},classNameLabelOk:{required:!1,tsType:{name:"string"},description:"CSS class name for the input validation label."},classNameContentInput:{required:!1,tsType:{name:"string"},description:"CSS class name for the input container."},classNameInput:{required:!1,tsType:{name:"string"},description:"CSS class name for the input."},classNameInputEnabled:{required:!1,tsType:{name:"string"},description:"CSS class name for the enabled input."},classNameInputDisabled:{required:!1,tsType:{name:"string"},description:"CSS class name for the disabled input."},classNameIcon:{required:!1,tsType:{name:"string"},description:"CSS class name for the input icon."},classNameMaxLength:{required:!1,tsType:{name:"string"},description:""},classNameError:{required:!1,tsType:{name:"string"},description:"CSS class name for the input error message."},classNameOptions:{required:!1,tsType:{name:"string"},description:"CSS class name for the input options container."},classNameOption:{required:!1,tsType:{name:"string"},description:"CSS class name for each input option."},classNameOptionDisabled:{required:!1,tsType:{name:"string"},description:"CSS class name for a disabled input option."},classNameLoaderValidate:{required:!1,tsType:{name:"string"},description:"CSS class name for the input validation loader."},iconLoader:{required:!1,tsType:{name:"any"},description:"Icon to display while validating the input."}},composes:["Omit"]};export{_ as I};
