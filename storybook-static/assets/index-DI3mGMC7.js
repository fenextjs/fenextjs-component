import{r as m,R as e}from"./index-BBqxgoSh.js";import{C as d}from"./index-CeVS5bWp.js";import{C as u}from"./index-FLdoVD12.js";import{C as N}from"./index-iTlc0kxn.js";import{B as w}from"./index-MYQWERMd.js";import{T as b}from"./index-K1_b88eV.js";import{r as F}from"./index-0i6QVfK7.js";var P=F();const L=({loader:o,empty:f=e.createElement(e.Fragment,null,e.createElement(b,null,"There is not messages yet"),e.createElement(P.SvgTelegram,null)),customBack:p,chatUser:g,loaderChatUser:T,chatMessage:s,loaderChatMessage:i,chatFormSendMessage:h,loaderChatFormSendMessage:y,useBtnLoadMoreMssages:E=!1,btnLoadMoreMessages:C={children:"Load more messages"},fullPage:v=!0,onScrollIfNewMessage:q=!0,...n})=>{const M=()=>{setTimeout(()=>{var t;q&&window.scrollTo(0,document.body.scrollHeight),(t=n==null?void 0:n.onActionAfterNewMessage)==null||t.call(n)},100)},[l,A]=m.useState(void 0),x=m.useCallback(t=>{var a,r;(!l||(((a=l.createdAt)==null?void 0:a.getTime())??0)<(((r=t.createdAt)==null?void 0:r.getTime())??0))&&(A(t),M())},[l]);return m.useEffect(()=>{s&&x([...s].sort((t,a)=>{var r,c;return(((r=a.createdAt)==null?void 0:r.getTime())??0)-(((c=t.createdAt)==null?void 0:c.getTime())??0)})[0])},[s]),e.createElement(e.Fragment,null,e.createElement("div",{className:`fenext-chat fenext-chat-${v?"full-page":""}`},e.createElement("div",{className:"fenext-chat-contentTop"},p,[g].flat(2).map((t,a)=>e.createElement(e.Fragment,null,e.createElement(d,{key:a,...t}))),(o||T)&&new Array(2).fill(e.createElement(d,{loader:!0}))),e.createElement("div",{className:"fenext-chat-contentMessage"},o||i?new Array(2).fill(1).map((t,a)=>{const r=t*a;return e.createElement(e.Fragment,null,e.createElement(u,{key:a,id:a,loader:!0,right:r%2==0}))}):e.createElement(e.Fragment,null,E&&e.createElement("div",{className:"fenext-chat-contentBtnLoadMore"},e.createElement(w,{...C}))),s.map(t=>e.createElement(e.Fragment,null,e.createElement(u,{key:t.id,...t}))),!o&&!i&&s.length==0&&e.createElement("div",{className:"fenext-chat-empty"},f)),e.createElement("div",{className:"fenext-chat-contentForm"},e.createElement(N,{loader:o||y,...h}))))};L.__docgenInfo={description:"",methods:[],displayName:"Chat",props:{loader:{required:!1,tsType:{name:"boolean"},description:""},useAccountOwner:{required:!1,tsType:{name:"boolean"},description:""},onScrollIfNewMessage:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},onActionAfterNewMessage:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},empty:{required:!1,tsType:{name:"ReactNode"},description:"",defaultValue:{value:`<>
    <Text>There is not messages yet</Text>
    <SvgTelegram />
</>`,computed:!1}},customBack:{required:!1,tsType:{name:"ReactNode"},description:""},chatUser:{required:!0,tsType:{name:"union",raw:"ChatUserProps | ChatUserProps[]",elements:[{name:"ChatUserProps"},{name:"Array",elements:[{name:"ChatUserProps"}],raw:"ChatUserProps[]"}]},description:""},loaderChatUser:{required:!1,tsType:{name:"boolean"},description:""},chatMessage:{required:!0,tsType:{name:"Array",elements:[{name:"ChatMessageProps"}],raw:"ChatMessageProps[]"},description:""},loaderChatMessage:{required:!1,tsType:{name:"boolean"},description:""},chatFormSendMessage:{required:!0,tsType:{name:"ChatFormSendMessageProps"},description:""},loaderChatFormSendMessage:{required:!1,tsType:{name:"boolean"},description:""},useBtnLoadMoreMssages:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},btnLoadMoreMessages:{required:!1,tsType:{name:"ButtonProps"},description:"",defaultValue:{value:`{
    children: "Load more messages",
}`,computed:!1}},fullPage:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}};export{L as C};
