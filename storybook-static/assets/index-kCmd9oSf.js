import{r as l,R as a}from"./index-BBqxgoSh.js";import{G as S,C as G,M as I,D as R}from"./esm-i8VJEw8f.js";const x=({mapContainerStyle:L={width:"100%",height:"100dvh"},markers:e=void 0,useLoadCenterWithMarker:M=!0,useLoadFitBoundsWithMarker:y=!0,useLoadDirectionsWithMarker:m=!1,showDirectionsWaypoints:c=!1,center:p={lat:0,lng:0},...o})=>{const[r,w]=l.useState(void 0),[i,B]=l.useState(void 0),[C,E]=l.useState(void 0),f=()=>{var d,u;const t=(u=(d=google??{})==null?void 0:d.maps)==null?void 0:u.LatLngBounds;if(!t)return;const n=new t;return e==null||e.forEach(s=>{n.extend(s.position)}),n},D=()=>{var n;if(!(M&&e&&(e==null?void 0:e.length)>0))return;const t=f();E((n=t==null?void 0:t.getCenter)==null?void 0:n.call(t))},q=()=>{var n;if(!(y&&e&&(e==null?void 0:e.length)>0))return;const t=f();t&&((n=i==null?void 0:i.fitBounds)==null||n.call(i,t))},T=async()=>{var v,h;if(!(m&&e&&(e==null?void 0:e.length)>0))return;const t=(h=(v=window==null?void 0:window.google)==null?void 0:v.maps)==null?void 0:h.DirectionsService;if(!t)return;const n=new t,d=e[0],u=e[e.length-1],s=await n.route({origin:d.position,destination:u.position,travelMode:google.maps.TravelMode.DRIVING,waypoints:[...e].splice(1,e.length-2).map(V=>({location:V.position}))});w(s)},g=()=>{if(typeof window>"u"){setTimeout(g,250);return}D(),q(),T()};return l.useEffect(g,[i]),a.createElement("div",{className:"fenext-input-google-maps "},a.createElement(S,{mapContainerStyle:L,center:C??p,...o,onLoad:t=>{var n;B(t),(n=o==null?void 0:o.onLoad)==null||n.call(o,t)},onBoundsChanged:()=>{var t,n;(n=o==null?void 0:o.onBoundsChanged)==null||n.call(o,(t=i==null?void 0:i.getBounds)==null?void 0:t.call(i))}},e&&!c&&a.createElement(a.Fragment,null,a.createElement(G,null,()=>a.createElement(a.Fragment,null,e.map((t,n)=>a.createElement(I,{key:n,...t}))))),r&&a.createElement(R,{directions:r,options:{markerOptions:{opacity:c?1:0}}})))};x.__docgenInfo={description:"",methods:[],displayName:"InputGoogleMaps",props:{markers:{required:!1,tsType:{name:"Array",elements:[{name:"MarkerProps"}],raw:"MarkerProps[]"},description:"",defaultValue:{value:"undefined",computed:!0}},useLoadCenterWithMarker:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},useLoadFitBoundsWithMarker:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},useLoadDirectionsWithMarker:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},showDirectionsWaypoints:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onBoundsChanged:{required:!1,tsType:{name:"signature",type:"function",raw:"(data: LatLngBounds | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"LatLngBounds | undefined",elements:[{name:"LatLngBounds"},{name:"undefined"}]},name:"data"}],return:{name:"void"}}},description:""},mapContainerStyle:{defaultValue:{value:`{
    width: "100%",
    height: "100dvh",
}`,computed:!1},required:!1},center:{defaultValue:{value:`{
    lat: 0,
    lng: 0,
}`,computed:!1},required:!1}},composes:["Omit"]};export{x as I};
