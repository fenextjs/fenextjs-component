import{r as d,R as e}from"./index-BBqxgoSh.js";import{I as L}from"./index-DxxMHRyz.js";import{_ as O}from"./index-BmQFJNSo.js";import{_ as i}from"./index-CY3-uWaq.js";import{c as g}from"./index-Du2DAyME.js";import{c as S}from"./index-ac8kB312.js";import{c as k}from"./index-XBs5YK1k.js";const A=({classNameInputDate:v="",type:t="date",defaultValue:m=void 0,value:f=void 0,min:n=void 0,max:r=void 0,onChange:o,icon:D=e.createElement(O.SvgDate,null),iconPos:h="left",validator:q,...c})=>{const p=d.useMemo(()=>new Date().getTime(),[]),{data:I,setData:N,isChange:y}=S.useData(m),E=d.useMemo(()=>`${m?i.parseDateToText({date:m,type:t}):""}`,[m]),[V,T]=d.useState(E),b=l=>{const s=l.target.value;if(s==""){T(""),o==null||o(void 0);return}const a=i.parseTextToDate({text:s,type:t});N(a);const u=i.parseDateToText({date:a,type:t});T(u),o==null||o(a)},C=d.useMemo(()=>{var l,s,a,u;if(n)return t=="month"?i.getMonthValue(n):t=="week"?i.getWeekValue(n):t=="time"?i.getTimeValue(n):(u=(a=(l=n==null?void 0:n.toISOString)==null?void 0:(s=l.call(n)).split)==null?void 0:a.call(s,"T"))==null?void 0:u[0]},[n,t]),w=d.useMemo(()=>{var l,s,a,u;if(r)return t=="month"?i.getMonthValue(r):t=="week"?i.getWeekValue(r):t=="time"?i.getTimeValue(r):(u=(a=(l=r==null?void 0:r.toISOString)==null?void 0:(s=l.call(r)).split)==null?void 0:a.call(s,"T"))==null?void 0:u[0]},[r,t]),M=d.useMemo(()=>t=="time"?e.createElement(e.Fragment,null,e.createElement("datalist",{id:`input-date-${p}`},new Array(24).fill(1).map((l,s)=>{const a=g.parseNumberCount(l*s,{minimumIntegerDigits:2});return e.createElement(e.Fragment,null,new Array(6).fill(1).map((u,F)=>{const x=g.parseNumberCount(u*F*10,{minimumIntegerDigits:2});return e.createElement(e.Fragment,null,e.createElement("option",{value:`${a}:${x}`}))}))}))):e.createElement(e.Fragment,null),[p,t]),{error:$}=S.useValidator({data:I,validator:q??k.FenextjsValidator()});return e.createElement(L,{...c,defaultValue:"",value:f?i.parseDateToText({date:f,type:t}):V,onChange:()=>1,extraInContentInput:e.createElement(e.Fragment,null,(c==null?void 0:c.disabled)!=!0&&e.createElement(e.Fragment,null,e.createElement("input",{type:t,onChange:b,className:`fenext-input-date ${v}`,min:C,max:w,list:`input-date-${p}`}),M)),iconPos:h,icon:e.createElement("span",{className:"fenext-input-date-icon "},D),validator:void 0,error:$,isChange:y})};A.__docgenInfo={description:"",methods:[],displayName:"InputDate",props:{type:{required:!1,tsType:{name:"TypeDate"},description:"The type of the input field. Should be 'date'.",defaultValue:{value:'"date"',computed:!1}},defaultValue:{required:!1,tsType:{name:"union",raw:"Date | undefined",elements:[{name:"Date"},{name:"undefined"}]},description:"The default value of the input field.",defaultValue:{value:"undefined",computed:!0}},value:{required:!1,tsType:{name:"union",raw:"Date | undefined",elements:[{name:"Date"},{name:"undefined"}]},description:"The current value of the input field.",defaultValue:{value:"undefined",computed:!0}},min:{required:!1,tsType:{name:"union",raw:"Date | undefined",elements:[{name:"Date"},{name:"undefined"}]},description:"The min Date valid.",defaultValue:{value:"undefined",computed:!0}},max:{required:!1,tsType:{name:"union",raw:"Date | undefined",elements:[{name:"Date"},{name:"undefined"}]},description:"The max Date valid.",defaultValue:{value:"undefined",computed:!0}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(v: InputDateValueType) => void",signature:{arguments:[{type:{name:"union",raw:"Date | undefined",elements:[{name:"Date"},{name:"undefined"}]},name:"v"}],return:{name:"void"}}},description:"A callback function to handle changes to the input field."},className:{required:!1,tsType:{name:"string"},description:"CSS class name for the input component."},classNameLabel:{required:!1,tsType:{name:"string"},description:"CSS class name for the input label."},classNameLabelError:{required:!1,tsType:{name:"string"},description:"CSS class name for the input error label."},classNameLabelOk:{required:!1,tsType:{name:"string"},description:"CSS class name for the input validation label."},classNameContentInput:{required:!1,tsType:{name:"string"},description:"CSS class name for the input container."},classNameInput:{required:!1,tsType:{name:"string"},description:"CSS class name for the input."},classNameInputEnabled:{required:!1,tsType:{name:"string"},description:"CSS class name for the enabled input."},classNameInputDisabled:{required:!1,tsType:{name:"string"},description:"CSS class name for the disabled input."},classNameIcon:{required:!1,tsType:{name:"string"},description:"CSS class name for the input icon."},classNameMaxLength:{required:!1,tsType:{name:"string"},description:""},classNameError:{required:!1,tsType:{name:"string"},description:"CSS class name for the input error message."},classNameOptions:{required:!1,tsType:{name:"string"},description:"CSS class name for the input options container."},classNameOption:{required:!1,tsType:{name:"string"},description:"CSS class name for each input option."},classNameOptionDisabled:{required:!1,tsType:{name:"string"},description:"CSS class name for a disabled input option."},classNameLoaderValidate:{required:!1,tsType:{name:"string"},description:"CSS class name for the input validation loader."},iconLoader:{required:!1,tsType:{name:"any"},description:"Icon to display while validating the input."},classNameInputDate:{required:!1,tsType:{name:"string"},description:"The CSS class for the input date field.",defaultValue:{value:'""',computed:!1}},icon:{defaultValue:{value:"<SvgDate />",computed:!1},required:!1},iconPos:{defaultValue:{value:'"left"',computed:!1},required:!1}},composes:["Omit"]};export{A as I};
