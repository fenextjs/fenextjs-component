import{B as g}from"./index-MYQWERMd.js";import{I as p}from"./index-DxxMHRyz.js";import{r as y,R as a}from"./index-BBqxgoSh.js";import{u as I}from"./index-DzUbadkt.js";import{c as q}from"./index-ac8kB312.js";import{c as S}from"./index-0i6QVfK7.js";import{I as _}from"./index-Bof1AXjC.js";const D=({useSubmitInEnter:v=!0,btnChildren:h=a.createElement(S.SvgSend,null),btnFileChildren:C=a.createElement(S.SvgPaperClip,null),placeholderMessage:T="Message",InputFileProps:b={},...e})=>{const{_t:o}=q.use_T({...e}),m=y.useRef(null),[x,E]=y.useState(0),{data:s,setData:P,onChangeData:F,loaderSubmit:i,onSubmitData:d}=I.useData({},{onSubmitData:async u=>{var c,r,f;try{await((c=e==null?void 0:e.onSubmit)==null?void 0:c.call(e,u))}finally{E(n=>n+1),P({});const l=(f=(r=m==null?void 0:m.current)==null?void 0:r.querySelector)==null?void 0:f.call(r,".fenext-chat-form-send-message-label"),t=document.querySelector(".fenext-chat");setTimeout(function(){var n;(n=l==null?void 0:l.click)==null||n.call(l)},0),setTimeout(function(){var n;(n=t==null?void 0:t.scrollTo)==null||n.call(t,0,(t==null?void 0:t.scrollTop)+99990000009)},10)}}});return a.createElement(a.Fragment,null,a.createElement("div",{className:"fenext-chat-form-send-message",ref:m},a.createElement(p,{classNameLabel:"fenext-chat-form-send-message-label",type:"textarea",placeholder:o(T),className:"fenext-chat-form-send-message-input-message",onChange:F("message"),value:s.message??"",onEnter:()=>{!s.message||s.message==""||v&&d()},disabled:i||(e==null?void 0:e.loader)}),a.createElement("div",{className:"fenext-chat-form-send-message-content-btn"},a.createElement(g,{loader:i||(e==null?void 0:e.loader),disabled:!s.message||s.message=="",_t:o,size:"extra-small"},h),a.createElement(_,{...b,key:x,onChange:u=>{d({data:{...s,file:u}})}},a.createElement(g,{loader:i||(e==null?void 0:e.loader),_t:o,size:"extra-small"},C)))))};D.__docgenInfo={description:"",methods:[],displayName:"ChatFormSendMessage",props:{onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(data: ChatFormSendMessageDataProps) => Promise<void>",signature:{arguments:[{type:{name:"ChatFormSendMessageDataProps"},name:"data"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},loader:{required:!1,tsType:{name:"boolean"},description:""},useSubmitInEnter:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},btnChildren:{required:!1,tsType:{name:"ReactNode"},description:"",defaultValue:{value:"<SvgSend />",computed:!1}},btnFileChildren:{required:!1,tsType:{name:"ReactNode"},description:"",defaultValue:{value:"<SvgPaperClip />",computed:!1}},InputFileProps:{required:!1,tsType:{name:"Omit",elements:[{name:"InputFileProps"},{name:"literal",value:'"onChange"'}],raw:'Omit<InputFileProps, "onChange">'},description:"",defaultValue:{value:"{}",computed:!1}},placeholderMessage:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Message"',computed:!1}}},composes:["_TProps"]};export{D as C};
