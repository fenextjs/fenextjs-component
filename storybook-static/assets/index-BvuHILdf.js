import{r as I,R as e}from"./index-BBqxgoSh.js";import{c as T}from"./index-ac8kB312.js";import{I as P}from"./index-DdO2LMUc.js";import{I as O}from"./index-CnMuS4Re.js";import{T as j}from"./index-DOWzBx_9.js";import{T as R}from"./index-K1_b88eV.js";import{B as h}from"./index-MYQWERMd.js";import"./index-D35yvkiQ.js";import{L as $}from"./index-Bl1n06N9.js";import"./index-BvGAx8bm.js";import"./index-Cc2-Ys_d.js";import{l as H}from"./index-Du2DAyME.js";import{e as L}from"./index-vyi8JLgO.js";import{T as G}from"./index-C2XFtLQo.js";import{r as K}from"./index-kniBM-Wq.js";var z=H(),J=K();const Q=({className:y="",multiple:i=!1,onChange:r,onUploadImg:p,onDeleteImg:m,onAcepte:o,HeaderPage:E=e.createElement(e.Fragment,null,e.createElement(j,{tag:"h3"},"Media"),e.createElement(R,null,"Upload or Select Imagen.")),defaultValue:D,images:d=[],loaderImages:x=!1,disabledSelectImg:w=!1,InputUploadProps:C={accept:["png","jpg","jpeg","webp"],title:"Upload Imagen",text:"Click for select or upload Imagen."},ButtonAcceptProps:q={children:"Acepte"},ButtonCancelProps:N={children:"Cancel"},isPage:U=!0,extraContentImgs:f=void 0,onRenderImg:c=void 0,...V})=>{const{_t:l}=T.use_T({...V}),[k,S]=I.useState(0),{data:n,onConcatData:B,onDeleteData:b,setData:g}=T.useData([D??[]].flat(2),{onChangeDataAfter:a=>{i?r==null||r(a):r==null||r(a==null?void 0:a[0])}}),v=a=>()=>{if(w)return;const t=d[a],s=n.findIndex(u=>u.src==t.src);if(s>-1){b(s);return}i?B([t]):g([t])},F=async a=>{S(new Date().getTime());const t=await z.parseBase64ToImgData({base64:a.fileData,name:a.text,quality:.7});L.env_log(t,{name:"Img upload"}),p==null||p(t)},A=()=>{i?o==null||o(n):o==null||o(n==null?void 0:n[0])},_=()=>{g([])},M=I.useMemo(()=>e.createElement(e.Fragment,null,d.map((a,t)=>{const s=n.find(u=>u.src==a.src)!==void 0;return e.createElement(e.Fragment,null,e.createElement("div",{key:`${t}-${a.src}-${(a==null?void 0:a.id)??""}`,className:`fenext-media-page-img fenext-media-page-img-${s?"active":""}`,onClick:v(t)},e.createElement("div",{className:"fenext-media-page-img-element"},(c?c(a):e.createElement(P,{...a}))??e.createElement(P,{...a})),e.createElement("div",{className:"fenext-media-page-img-capa"}),e.createElement("div",{className:"fenext-media-page-img-actions"},e.createElement("a",{className:"fenext-media-page-img-action fenext-media-page-img-download",href:a.src,download:a.name??"download.png",target:"_blank"},e.createElement(J.SvgSave,null)),e.createElement("div",{className:"fenext-media-page-img-action fenext-media-page-img-delete",onClick:()=>{m==null||m(a)}},e.createElement(G.SvgTrash,null)))))})),[d,c,v,m,l]);return e.createElement(e.Fragment,null,e.createElement("div",{className:`fenext-media-page ${y} `},e.createElement("div",{className:"fenext-media-page-top"},e.createElement("div",{className:"fenext-media-page-top-header"},l(E)),e.createElement("div",{className:"fenext-media-page-top-btn-acepte"},n.length!=0&&!U&&e.createElement(e.Fragment,null,e.createElement(h,{...N,onClick:_,_t:l}),e.createElement(h,{...q,onClick:A,_t:l})))),e.createElement("div",{className:"fenext-media-page-upload"},e.createElement(O,{...C,key:k,onChange:F,clearAfterUpload:!0,_t:l})),e.createElement("div",{className:"fenext-media-page-imgs"},x?e.createElement(e.Fragment,null,e.createElement("div",{className:"fenext-media-page-img fenext-media-page-img-loader"},e.createElement($,null))):e.createElement(e.Fragment,null),M,f&&e.createElement("div",{className:"fenext-media-page-extra-content-imgs"},l(f)))))};Q.__docgenInfo={description:"",methods:[],displayName:"MediaPage",props:{defaultValue:{required:!1,tsType:{name:"union",raw:"ImgDataProps[] | ImgDataProps",elements:[{name:"Array",elements:[{name:"ImgDataProps"}],raw:"ImgDataProps[]"},{name:"ImgDataProps"}]},description:"The defaultValue for the component."},disabledSelectImg:{required:!1,tsType:{name:"boolean"},description:"The disabledSelectImg for the component.",defaultValue:{value:"false",computed:!1}},images:{required:!1,tsType:{name:"Array",elements:[{name:"ImgDataProps"}],raw:"ImgDataProps[]"},description:"The images for the component.",defaultValue:{value:"[]",computed:!1}},loaderImages:{required:!1,tsType:{name:"boolean"},description:"The loaderImages for the component.",defaultValue:{value:"false",computed:!1}},multiple:{required:!1,tsType:{name:"boolean"},description:"The multiple for the component.",defaultValue:{value:"false",computed:!1}},isPage:{required:!1,tsType:{name:"boolean"},description:"The isPage for the component.",defaultValue:{value:"true",computed:!1}},onRenderImg:{required:!1,tsType:{name:"signature",type:"function",raw:"(data: ImgDataProps) => ReactNode",signature:{arguments:[{type:{name:"ImgDataProps"},name:"data"}],return:{name:"ReactNode"}}},description:"The onChange for the component.",defaultValue:{value:"undefined",computed:!0}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(data: ImgDataProps[] | ImgDataProps | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"ImgDataProps[] | ImgDataProps | undefined",elements:[{name:"Array",elements:[{name:"ImgDataProps"}],raw:"ImgDataProps[]"},{name:"ImgDataProps"},{name:"undefined"}]},name:"data"}],return:{name:"void"}}},description:"The onChange for the component."},onUploadImg:{required:!1,tsType:{name:"signature",type:"function",raw:"(data: ImgDataProps) => void",signature:{arguments:[{type:{name:"ImgDataProps"},name:"data"}],return:{name:"void"}}},description:"The onUploadImg for the component."},onDeleteImg:{required:!1,tsType:{name:"signature",type:"function",raw:"(data: ImgDataProps) => void",signature:{arguments:[{type:{name:"ImgDataProps"},name:"data"}],return:{name:"void"}}},description:"The onDeleteImg for the component."},onAcepte:{required:!1,tsType:{name:"signature",type:"function",raw:"(data: ImgDataProps[] | ImgDataProps) => void",signature:{arguments:[{type:{name:"union",raw:"ImgDataProps[] | ImgDataProps",elements:[{name:"Array",elements:[{name:"ImgDataProps"}],raw:"ImgDataProps[]"},{name:"ImgDataProps"}]},name:"data"}],return:{name:"void"}}},description:"The onAcepte for the component."},HeaderPage:{required:!1,tsType:{name:"ReactNode"},description:"The HeaderPage for the component.",defaultValue:{value:`<>
    <Title tag="h3">Media</Title>
    <Text>Upload or Select Imagen.</Text>
</>`,computed:!1}},ButtonAcceptProps:{required:!1,tsType:{name:"Omit",elements:[{name:"ButtonProps"},{name:"literal",value:'"onClick"'}],raw:'Omit<ButtonProps, "onClick">'},description:"The ButtonAcceptProps for the component.",defaultValue:{value:`{
    children: "Acepte",
}`,computed:!1}},ButtonCancelProps:{required:!1,tsType:{name:"Omit",elements:[{name:"ButtonProps"},{name:"literal",value:'"onClick"'}],raw:'Omit<ButtonProps, "onClick">'},description:"The ButtonCancelProps for the component.",defaultValue:{value:`{
    children: "Cancel",
}`,computed:!1}},InputUploadProps:{required:!1,tsType:{name:"Omit",elements:[{name:"InputUploadProps"},{name:"union",raw:`| "onChange"
| "defaultValue"
| "onChangeProgress"
| "onUploadFile"
| "clearAfterUpload"`,elements:[{name:"literal",value:'"onChange"'},{name:"literal",value:'"defaultValue"'},{name:"literal",value:'"onChangeProgress"'},{name:"literal",value:'"onUploadFile"'},{name:"literal",value:'"clearAfterUpload"'}]}],raw:`Omit<
    InputUploadProps,
    | "onChange"
    | "defaultValue"
    | "onChangeProgress"
    | "onUploadFile"
    | "clearAfterUpload"
>`},description:"The HeaderPage for the component.",defaultValue:{value:`{
    accept: ["png", "jpg", "jpeg", "webp"],
    title: "Upload Imagen",
    text: "Click for select or upload Imagen.",
}`,computed:!1}},extraContentImgs:{required:!1,tsType:{name:"ReactNode"},description:"The extraContentImgs for the component.",defaultValue:{value:"undefined",computed:!0}},className:{required:!1,tsType:{name:"string"},description:"The class name for the component.",defaultValue:{value:'""',computed:!1}}},composes:["_TProps"]};export{Q as M};
