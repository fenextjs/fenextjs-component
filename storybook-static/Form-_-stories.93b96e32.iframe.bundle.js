"use strict";(self.webpackChunkfenextjs_component=self.webpackChunkfenextjs_component||[]).push([[1221],{"./src/Form/_.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Index:()=>Index,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/Form/index.tsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const __WEBPACK_DEFAULT_EXPORT__={title:"Component/Form",component:_index__WEBPACK_IMPORTED_MODULE_1__.l};var Profile=function Profile(args){return __jsx(_index__WEBPACK_IMPORTED_MODULE_1__.l,args,"Test Children")};Profile.displayName="Profile";var Index=Profile.bind({});Index.args={},Index.parameters={...Index.parameters,docs:{...Index.parameters?.docs,source:{originalSource:"args => <Form {...args}>Test Children</Form>",...Index.parameters?.docs?.source}}};const __namedExportsOrder=["Index"]},"./src/Form/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>Form});var _home_francisco_work_fenextjs_fenextjs_component_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_home_francisco_work_fenextjs_fenextjs_component_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_home_francisco_work_fenextjs_fenextjs_component_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),_home_francisco_work_fenextjs_fenextjs_component_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_home_francisco_work_fenextjs_fenextjs_component_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1__),yup__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/yup/index.esm.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),fenextjs_functions_cjs_env_log__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/fenextjs-functions/cjs/env_log/index.js"),fenextjs_hook_cjs_useNotification__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/fenextjs-hook/cjs/useNotification.js"),fenextjs_interface_cjs_Request__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/fenextjs-interface/cjs/Request/index.js"),fenextjs_functions__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/fenextjs-functions/cjs/index.js"),_excluded=["id","data","disabled","onChangeDisable","onChangeLoader","children","yup","validateAfterYup","className","_t"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,Form=function Form(_ref){var _ref$id=_ref.id,id=void 0===_ref$id?"":_ref$id,data=_ref.data,_ref$disabled=_ref.disabled,disabled=void 0===_ref$disabled||_ref$disabled,onChangeDisable=_ref.onChangeDisable,onChangeLoader=_ref.onChangeLoader,children=_ref.children,_ref$yup=_ref.yup,yup=void 0===_ref$yup?yup__WEBPACK_IMPORTED_MODULE_2__.Ik().shape({}):_ref$yup,validateAfterYup=_ref.validateAfterYup,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$_t=_ref._t,_t=void 0===_ref$_t?function(e){return e}:_ref$_t,props=(0,_home_francisco_work_fenextjs_fenextjs_component_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_7__.A)(_ref,_excluded),pop=(0,fenextjs_hook_cjs_useNotification__WEBPACK_IMPORTED_MODULE_4__.useNotification)({}).pop,onSendForm=function(){var _ref2=(0,_home_francisco_work_fenextjs_fenextjs_component_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(_home_francisco_work_fenextjs_fenextjs_component_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default().mark((function _callee(){var _props$onSubmit,_result$message,result,_props$onAfterSubmit,_w$dataLayer,w,_w$dataLayer2,_w$dataLayer2$push,_ref3,_error$message;return _home_francisco_work_fenextjs_fenextjs_component_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return null==onChangeLoader||onChangeLoader(!0),_context.prev=1,_context.next=4,null==props||null===(_props$onSubmit=props.onSubmit)||void 0===_props$onSubmit?void 0:_props$onSubmit.call(props,data);case 4:result=_context.sent,pop({type:null==result?void 0:result.type,message:_t(null!==(_result$message=null==result?void 0:result.message)&&void 0!==_result$message?_result$message:"")}),(null==result?void 0:result.type)==fenextjs_interface_cjs_Request__WEBPACK_IMPORTED_MODULE_5__.RequestResultTypeProps.OK&&(""!=id&&null!=(w=window)&&null!==(_w$dataLayer=w.dataLayer)&&void 0!==_w$dataLayer&&_w$dataLayer.push&&(null===(_w$dataLayer2=w.dataLayer)||void 0===_w$dataLayer2||null===(_w$dataLayer2$push=_w$dataLayer2.push)||void 0===_w$dataLayer2$push||_w$dataLayer2$push.call(_w$dataLayer2,{event:"form-".concat(id)})),null==props||null===(_props$onAfterSubmit=props.onAfterSubmit)||void 0===_props$onAfterSubmit||_props$onAfterSubmit.call(props,result)),_context.next=12;break;case 9:_context.prev=9,_context.t0=_context.catch(1),pop({type:fenextjs_interface_cjs_Request__WEBPACK_IMPORTED_MODULE_5__.RequestResultTypeProps.ERROR,message:_t(null!==(_ref3=null!==(_error$message=null===_context.t0||void 0===_context.t0?void 0:_context.t0.message)&&void 0!==_error$message?_error$message:_context.t0)&&void 0!==_ref3?_ref3:"")});case 12:null==onChangeLoader||onChangeLoader(!1);case 13:case"end":return _context.stop()}}),_callee,null,[[1,9]])})));return function onSendForm(){return _ref2.apply(this,arguments)}}(),onSubmit=function(){var _ref4=(0,_home_francisco_work_fenextjs_fenextjs_component_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(_home_francisco_work_fenextjs_fenextjs_component_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default().mark((function _callee2(e){return _home_francisco_work_fenextjs_fenextjs_component_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(e.preventDefault(),!disabled){_context2.next=3;break}return _context2.abrupt("return");case 3:onValidateData(onSendForm,(function(error){pop({type:fenextjs_interface_cjs_Request__WEBPACK_IMPORTED_MODULE_5__.RequestResultTypeProps.ERROR,message:_t(error)})}));case 4:case"end":return _context2.stop()}}),_callee2)})));return function onSubmit(_x){return _ref4.apply(this,arguments)}}(),onValidateData=function onValidateData(onOk,onError){yup.validate(data).then((0,_home_francisco_work_fenextjs_fenextjs_component_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)(_home_francisco_work_fenextjs_fenextjs_component_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default().mark((function _callee3(){return _home_francisco_work_fenextjs_fenextjs_component_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(_context3.prev=0,!validateAfterYup){_context3.next=4;break}return _context3.next=4,validateAfterYup(data);case 4:null==onChangeDisable||onChangeDisable(!1),_context3.next=13;break;case 7:return _context3.prev=7,_context3.t0=_context3.catch(0),null==onChangeDisable||onChangeDisable(!0),(0,fenextjs_functions_cjs_env_log__WEBPACK_IMPORTED_MODULE_3__.env_log)(_context3.t0,{name:"error"}),null==onError||onError(_context3.t0.message),_context3.abrupt("return");case 13:null==onOk||onOk();case 14:case"end":return _context3.stop()}}),_callee3,null,[[0,7]])})))).catch((function(error){null==onChangeDisable||onChangeDisable(!0),(0,fenextjs_functions_cjs_env_log__WEBPACK_IMPORTED_MODULE_3__.env_log)(error,{name:"onValidateData error"}),null==onError||onError(error.message)}))};return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){onValidateData(null,null)}),[data,yup]),__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,__jsx("form",{className:"fenext-form ".concat(className),onSubmit},(0,fenextjs_functions__WEBPACK_IMPORTED_MODULE_6__._tValidate)(children,_t)))};try{Form.displayName="Form",Form.__docgenInfo={description:"",displayName:"Form",props:{id:{defaultValue:{value:""},description:"The ID of the form",name:"id",required:!1,type:{name:"string"}},data:{defaultValue:null,description:"The initial data of the form",name:"data",required:!0,type:{name:"D"}},onSubmit:{defaultValue:null,description:"The function to handle the form submission",name:"onSubmit",required:!1,type:{name:"RequestProps<D, R, E, RequestResultTypeProps>"}},onAfterSubmit:{defaultValue:null,description:"The function to call after a successful form submission",name:"onAfterSubmit",required:!1,type:{name:"((data: RequestResultDataProps<R, E, RequestResultTypeProps>) => void)"}},disabled:{defaultValue:{value:"true"},description:"Whether the form is disabled",name:"disabled",required:!1,type:{name:"boolean"}},onChangeDisable:{defaultValue:null,description:"The function to call when the disabled state of the form changes",name:"onChangeDisable",required:!1,type:{name:"((disabled: boolean) => void)"}},loader:{defaultValue:null,description:"Whether to show a loader while the form is submitting",name:"loader",required:!1,type:{name:"boolean"}},onChangeLoader:{defaultValue:null,description:"The function to call when the loader state of the form changes",name:"onChangeLoader",required:!1,type:{name:"((disabled: boolean) => void)"}},yup:{defaultValue:{value:"Yup.object().shape({})"},description:"The Yup schema to use for form validation",name:"yup",required:!1,type:{name:'ObjectSchema<AnyObject, AnyObject, any, "">'}},validateAfterYup:{defaultValue:null,description:"The function to handle form validation after validating with Yup",name:"validateAfterYup",required:!1,type:{name:"RequestProps<D, R, E, RequestResultTypeProps>"}},className:{defaultValue:{value:""},description:"The className to apply to the form element",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Form/index.tsx#Form"]={docgenInfo:Form.__docgenInfo,name:"Form",path:"src/Form/index.tsx#Form"})}catch(__react_docgen_typescript_loader_error){}}}]);